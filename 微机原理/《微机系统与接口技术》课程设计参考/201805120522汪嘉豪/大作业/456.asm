org 0x8400
jmp start
name  db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0	
      db   1,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,0,0,0,0,1,0
      db   1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0
      db   1,1,0,0,1,0,0,1,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0
      db   0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0
      db   0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0
      db   0,1,1,1,0,1,1,1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0
      db   0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0
      db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0

rex1	db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0
		db	1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0
		db	1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0
		db	1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0
		db	1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0
		db	1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0
		db	1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0
		db	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		db	0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0

start:
	
	mov	al,0x13         			;进入图形模式
    mov	ah,0x00 
    int	0x10

    mov	ax,0x0a000
    mov	es,ax

	mov ax,0
	mov ds,ax


	
	cli
	mov word[ds:0x24],int_key
	mov word[ds:0x26],0
	mov si,32100
	call wjh
	call rex
	sti
	mov dl,60				;颜色
 	jmp $
wjh:
	push	cx
	push	bx
	push	si
	mov	cx,0
	mov	bx,0
	mov	si,54630				;调整起点位置


 x1:
	mov	al,[ds:name+bx]
	inc	cx
	inc	bx
	inc	si
	cmp	al,1					;与1比较，等于1输出打点
	jz	x2
	cmp	cx,24					;一行24个1或0
	jz	x3
 n:
	cmp	bx,216					;一共216个像素点
	jb	x1


	pop	si
	pop	bx
	pop	cx
	ret

 x2:
	mov	[es:si],dl
	jmp	x1

 x3:
	add	si,296								;换行					
	mov	cx,0
	jmp	n

	ret




rex:		
	push	cx
	push	bx
	push	si
	mov	cx,0
	mov	bx,0		
	mov si,32100							;调整起点位置

 x5:
	mov	al,[ds:rex1+bx]
	inc	cx
	inc	bx
	inc	si
	cmp	al,1					;与1比较，等于1输出打点
	jz	x6
	cmp	cx,33					;一行33个1或0
	jz	x7
 n1:
	cmp	bx,1221					;一共1221个像素点
	jb	x5

	pop si
	pop	bx
	pop	cx
	ret

 x6:
	mov	[es:si],dl
	jmp	x5

 x7:
	add	si,287								;换行					
	mov	cx,0
	jmp	n1


clc: 									 ;清屏
    push bx
    push ax

    mov bx, 0
 qx:  mov byte [es : bx], ''
    mov byte [es : bx+1], 0x00
    add bx, 2
    cmp bx, 51200
    jnz qx


    pop bx
    pop ax
	ret

rex2:		
	push	cx
	push	bx
	push	si
	mov	cx,0
	mov	bx,0		
	mov si,32200							;调整起点位置

 x15:
	mov	al,[ds:rex1+bx]
	inc	cx
	inc	bx
	inc	si
	cmp	al,1					;与1比较，等于1输出打点
	jz	x16
	cmp	cx,33					;一行33个1或0
	jz	x17
 n11:
	cmp	bx,1221					;一共1221个像素点
	jb	x15

	pop si
	pop	bx
	pop	cx
	ret

 x16:
	mov	[es:si],dl
	jmp	x15

 x17:
	add	si,287								;换行					
	mov	cx,0
	jmp	n11
int_key:						;键盘中断
    mov dx,0x60
    in al,dx

    cmp al,0x02
	je hm

	cmp al,0x03
	je hn

	cmp al,0x39
	je hh
exit:
    mov dx,0x20
    mov al,0x61
    out dx,al  
    iret

hm:						;按1使文字颜色改变
	call clc
	mov dl,60
	call rex
	jmp exit
	
hn:						;按2使文字颜色改变
	call clc
	mov dl,100
	call rex
	jmp exit
hh:
	call clc
	call rex2
	jmp exit 	

