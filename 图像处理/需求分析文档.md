# 基于神经网络的垃圾分类识别系统需求分析

#### 完成人：沈方毅、郑娇

## 1. 概述

### 1.1. 问题描述

​       随着社会的飞速发展，生活中产生的消耗废品日益剧增，如何更好地分类与回收这些“垃圾”已经成为了急需解决的问题。根据国家制定的统一标准，现在生活垃圾被广泛分为四类，分别是可回收物、餐厨垃圾、有害垃圾和其他垃圾。可回收物表示适宜回收和资源利用的垃圾，主要包括废纸、塑料、玻璃、金属和布料五大类，用蓝色垃圾容器收集，通过综合处理回收利用。餐厨垃圾包括剩菜剩饭、骨头、菜根菜叶、果皮等食品类废物，用绿色垃圾容器收集等等。而我们组的课设是将聚焦于垃圾分类，对于生活中的垃圾进行分类识别 

### 1.2. 系统简介

​		本系统是借助现在的神经网络，来对垃圾进行识别和分类。经过一些处理，进入一个深度学习的模型，主要使用了残差网络ResNet50算法，通过python开发工具实现一个垃圾分类系统。

​	   该系统主要的功能是可以通过图像文件的检测与识别，可以检测出垃圾分类的结果，通过界面可视化，最终在GUI界面上进行垃圾分类识别系统的构建。

​	   通过pil对有问题的图片进行删除，并且贴图到合适的大小。通过torch进行图片的训练，使 用torchvision 的 ResNet50 模型，并且采用 ResNet50 的预训练模型。算法采用交叉熵损失函数，优化器选择 Adam，并采用 StepLR 进行学习率衰减。保存模型的策略是选择在验证集准确率最高的模型。通过测试集进行训练。

### 1.3. 目标读者

程序编写人员、程序审核人员以及有一定的神经网络学习理论知识基础，图像处理相关知识基础的读者

### 1.4. 书写约定

1、文档书写过程中，*斜体字*  表示专有名词

2、**加粗黑体字**表示重点内容

2、对于代码会用代码框

```python
代码框
```

4、对于长的专业名词进行了缩写，例如：ResNet50->ResNet、Tkinter->TK



## 2. 系统运行环境

### 2.1.系统运行环境硬件要求

**开发者：**

```
cpu：P4 3.0G以上
内存：1GB以上
硬盘：80G
```

**访问者：**

该系统要求访问者与开发者拥同样的开发配置。

## 3. 系统功能需求

对于该程序我们将实现以下功能：照片的选择、垃圾识别与分类、垃圾的识别结果显示界面

### 3.1.照片的选择

照片可以通过路径选择，选取合适的照片应用于垃圾识别系统

### 3.2.垃圾分类识别

通过上传的图片进行识别，检测出是属于什么垃圾，并且具体到是四类垃圾中的哪一类具体垃圾。

### 3.3.垃圾识别结果显示界面

通过垃圾分类识别，反馈给用户所上传的是属于什么垃圾。



## 4. 系统非功能需求

**性能需求：**支持图片为全格式，若图片存在损坏，将由系统自动删除。所有图片将会被贴图到224*224的大小画布上，通过压缩图片以后进行识别，识别效率高，允许速度快，识别一张图片速度控制在0.5s以内。

**可靠性：**该GUI进行大量测试，保证GUI交互界面可以正常运行。

**安全性：**该GUI没有要求获取用户信息，只需要打开界面即可以使用，保护用户信息安全。

**易用性：**GUI交互界面采用了图标使用常用图标，并且部分图标旁都有文字介绍，清晰明了。

**可维护性与可扩展性：**系统松散耦合，有完整的文档，易于维护。

**可用性：**该系统实现垃圾分类高效准确识别。



## 5. 需求分析模型

### 5.1. 功能模型

<img src="img\垃圾分类用例图.png" alt="垃圾分类用例图" style="zoom:50%;" />

#### 选择本地照片上传

##### 用例名称：选择本地照片上传

##### 行为者：用户

##### 前置条件：GUI交互界面正常运行且允许访问存储文件

##### 目标：通过选择本地照片上传图片识别垃圾类别

##### 正常脚本：

```
1. 用户运行GUI交互界面，点击选择在线图片
2. 系统打开本地文件
3. 用户选择图片
4. 用户选择确认上传
5. 服务器对锁上传的图片进行垃圾分类识别并返回垃圾类别
6. 系统显示返回的垃圾类别
7. 用户确认识别是否正确，点击正确完成本次识别
```

##### 异常脚本：

```
1. 在选择是否确认上传界面选择"重新选择"，系统重新打开本地文件，重复上述脚本
2. 在选择是否确认上传界面选择取消上传，系统返回主界面
3. 在选择识别是否正确界面选择不正确，处理：见"处理识别错误用例"
```



#### 处理识别错误用例

##### 用例名称：**处理识别错误用例**

##### 行为者：用户

##### 前置条件： 无

##### 目标： 将错误识别的用例上传服务器保存

##### 正常脚本：

```
1.  用户选择识别错误
2.  用户输入正确的结果上传
3.  服务器接收到正确的数据进行保存
```

##### 异常脚本：

```
无
```

### 5.2. 对象模型

#### 5.2.1 类图解析

类名：MyData 继承于Dataset

描述：数据集对象

属性：

```
1. label ：类别
2. path：图片路径
3. transform：图片处理操作
```

方法：

```
1. init(self, Path, transform=None) 构造函数
2. getitem(self, idx) 根据下标获取对象
3. len(self) 返回对象长度
```

#### 5.2.2

类名：ResNet 继承于 nn.Module

描述： 神经网络模型

属性：

```
1. init(self, Path, transform=None) 构造函数
2. getitem(self, idx) 根据下标获取对象
3. len(self) 返回对象长度
```

方法：

```
1. init(self, block, blocks_num, num_classes=1000, include_top=True):构造函数
2. _make_layer(self, block, channel, block_num, stride=1): 将layers中的所有block按顺序接在一起
3. forward(self, x): 神经网络正向传播
```

![类图](img\类图.png)

#### 5.3. 动态模型

<img src="img\系统图.png" alt="系统图" style="zoom:50%;" />





 